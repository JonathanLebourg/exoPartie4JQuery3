<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Exercice 3 JQuery - Partie 4</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="exercice">
    <h1>Exercice 3 JQuery - Partie 4</h1>
    <p>Créer un formulaire qui demande le nom, le prénom, l'adresse mail et le numéro de téléphone de l'utilisateur.
    </br>Verifier que l'adresse mail est bien une adresse mail, vérifier que le numéro de téléphone ne comporte que des chiffres, et que le nom et le prénom ne contiennent que des lettres ou des tirets.</p>
  </div>

  <div class="exo">
    <form id="form">
      <label>Nom :</label>
      <input type="text" id="name">
      <div class="errorname">Erreur</div>

      <label>Prénom :</label>
      <input type="text" id="firstname">
      <div class="errorfirstname">Erreur</div>

      <label>Adresse mail :</label>
      <input type="email" id="mail">
      <div class="errormail">Erreur</div>

      <label>Téléphone :</label>
      <input type="text" id="phone">
      <div class="errorphone">Erreur</div>
    </form>

      <button type="button" name="button" id="button">Envoyer</button>

    </div>

<script src="jquery-3.2.1.js"></script>
<script>

$(function(){

  $("#button").click(function(){
    var regexL = /^[a-zA-ZÀ-ÿ-]+$/;
    var regexM = /^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_.]{2,}.[a-zA-Z]{2-4}$/
    var regexN = /^[0-9]{10}$/;
    var name = $("#name").val();
    var firstname = $("#firstname").val();
    var mail = $("#mail").val();
    var phone = $("#phone").val();

    if ($("#name").val() == ""){
      $("#name").css("border", "solid 3px red")
      $(".errorname").fadeIn().text("Champ obligatoire vide");
    }else if(regexL.test(name)){
      console.log(name);
      $("#name").css("border", "solid 5px green");
      $(".errorname").fadeIn().text("");
      }else{
        $("#name").css("border", "solid 3px red");
        $(".errorname").fadeIn().text("Erreur de saisie");
        }

    if ($("#firstname").val() == ""){
      $("#firstname").css("border", "solid 3px red");
      $(".errorfirstname").fadeIn().text("Champ obligatoire vide");
    }
    else if (regexL.test(firstname)){
      $("#firstname").css("border", "solid 5px green")}
      else{
        $("#firstname").css("border", "solid 3px red");
        $(".errorfirstname").fadeIn().text("Erreur de saisie");
      }

    if ($("#mail").val() == ""){
      $("#mail").css("border", "solid 3px red");
      $(".errormail").fadeIn().text("Champ obligatoire vide");
    }
    else if (regexM.test(mail)){
      $("#mail").css("border", "solid 5px green")}
      else{
        $("#mail").css("border", "solid 3px red");
        $(".errorfirstname").fadeIn().text("Erreur de saisie");
      }

    if ($("#phone").val() == ""){
      $("#phone").css("border", "solid 3px red");
      $(".errorphone").fadeIn().text("Champ obligatoire vide");
    }
    else if (regexN.test(phone)){
      $("#phone").css("border", "solid 5px green")}
      else{
        $("#phone").css("border", "solid 3px red");
        $(".errorphone").fadeIn().text("Erreur de saisie");
      }

  })

})


</script>

</body>

<footer>
<p>Exercices réalisés à
<a href="https://lamanu.fr/le-havre">LaManu</a></p>
</footer>
</html>
